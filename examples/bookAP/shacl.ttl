@base <http://example.org/shapes#> .
@prefix base: <http://example.org/shapes#> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix sdo: <https://schema.org/> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

<BookShape> a sh:NodeShape ;
    sh:class sdo:Book ;
    sh:description "Shape for describing books"@en ;
    sh:name "Book"@en ;
    sh:property <bookshapeAuthor_value>,
        <bookshapeISBN-13_count>,
        <bookshapeISBN-13_value>,
        <bookshapeTitle_count>,
        <bookshapeTitle_value> ;
    sh:targetClass sdo:Book .

<AuthorShape> a sh:NodeShape ;
    sh:class foaf:Person ;
    sh:description "Shape for describing authors"@en ;
    sh:name "Author"@en ;
    sh:property <authorshapeFamilyname_value>,
        <authorshapeGivenname_value> ;
    sh:targetObjectsOf dct:creator .

<authorshapeFamilyname_value> a sh:PropertyShape ;
    sh:datatype xsd:string ;
    sh:name "Family name"@en ;
    sh:nodeKind sh:Literal ;
    sh:path foaf:familyName ;
    sh:severity sh:Info .

<authorshapeGivenname_value> a sh:PropertyShape ;
    sh:datatype xsd:string ;
    sh:name "Given name"@en ;
    sh:nodeKind sh:Literal ;
    sh:path foaf:givenName ;
    sh:severity sh:Info .

<bookshapeAuthor_value> a sh:PropertyShape ;
    sh:name "Author"@en ;
    sh:node <AuthorShape> ;
    sh:nodeKind sh:BlankNodeOrIRI ;
    sh:path dct:creator ;
    sh:severity sh:Warning .

<bookshapeISBN-13_count> a sh:PropertyShape ;
    sh:maxCount 1 ;
    sh:path sdo:isbn ;
    sh:severity sh:Violation .

<bookshapeISBN-13_value> a sh:PropertyShape ;
    sh:datatype xsd:string ;
    sh:minLength 13 ;
    sh:name "ISBN-13"@en ;
    sh:nodeKind sh:Literal ;
    sh:path sdo:isbn ;
    sh:severity sh:Violation .

<bookshapeTitle_count> a sh:PropertyShape ;
    sh:maxCount 1 ;
    sh:minCount 1 ;
    sh:path dct:title ;
    sh:severity sh:Violation .

<bookshapeTitle_value> a sh:PropertyShape ;
    sh:datatype rdf:langString ;
    sh:name "Title"@en ;
    sh:nodeKind sh:Literal ;
    sh:path dct:title ;
    sh:severity sh:Violation .
